<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This is the constructor function for TextReuseTextDocument objects.
This class is used for comparing documents."><title>TextReuseTextDocument — TextReuseTextDocument • textreuse</title><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="TextReuseTextDocument — TextReuseTextDocument"><meta property="og:description" content="This is the constructor function for TextReuseTextDocument objects.
This class is used for comparing documents."><meta property="og:image" content="https://docs.ropensci.org/textreuse/logo.png"><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css"><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript><!-- End Matomo Code --></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">textreuse</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.5</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/textreuse-alignment.html">Text Alignment</a>
    <a class="dropdown-item" href="../articles/textreuse-introduction.html">Introduction to the textreuse package</a>
    <a class="dropdown-item" href="../articles/textreuse-minhash.html">Minhash and locality-sensitive hashing</a>
    <a class="dropdown-item" href="../articles/textreuse-pairwise.html">Pairwise comparisons for document similarity</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/textreuse/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>TextReuseTextDocument</h1>
      <small class="dont-index">Source: <a href="https://github.com/ropensci/textreuse/blob/HEAD/R/TextReuseTextDocument.R" class="external-link"><code>R/TextReuseTextDocument.R</code></a></small>
      <div class="d-none name"><code>TextReuseTextDocument.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This is the constructor function for <code>TextReuseTextDocument</code> objects.
This class is used for comparing documents.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">TextReuseTextDocument</span><span class="op">(</span></span>
<span>  <span class="va">text</span>,</span>
<span>  file <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  meta <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  tokenizer <span class="op">=</span> <span class="va">tokenize_ngrams</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  hash_func <span class="op">=</span> <span class="va">hash_string</span>,</span>
<span>  minhash_func <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  keep_tokens <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  keep_text <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  skip_short <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">is.TextReuseTextDocument</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">has_content</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">has_tokens</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">has_hashes</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">has_minhashes</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>text</dt>
<dd><p>A character vector containing the text of the document. This
argument can be skipped if supplying <code>file</code>.</p></dd>


<dt>file</dt>
<dd><p>The path to a text file, if <code>text</code> is not provided.</p></dd>


<dt>meta</dt>
<dd><p>A list with named elements for the metadata associated with this
document. If a document is created using the <code>text</code> parameter, then
you must provide an <code>id</code> field, e.g., <code>meta = list(id =
"my_id")</code>. If the document is created using <code>file</code>, then the ID will
be created from the file name.</p></dd>


<dt>tokenizer</dt>
<dd><p>A function to split the text into tokens. See
<code><a href="tokenizers.html">tokenizers</a></code>. If value is <code>NULL</code>, then tokenizing and
hashing will be skipped.</p></dd>


<dt>...</dt>
<dd><p>Arguments passed on to the <code>tokenizer</code>.</p></dd>


<dt>hash_func</dt>
<dd><p>A function to hash the tokens. See
<code><a href="hash_string.html">hash_string</a></code>.</p></dd>


<dt>minhash_func</dt>
<dd><p>A function to create minhash signatures of the document.
See <code><a href="minhash_generator.html">minhash_generator</a></code>.</p></dd>


<dt>keep_tokens</dt>
<dd><p>Should the tokens be saved in the document that is
returned or discarded?</p></dd>


<dt>keep_text</dt>
<dd><p>Should the text be saved in the document that is returned or
discarded?</p></dd>


<dt>skip_short</dt>
<dd><p>Should short documents be skipped? (See details.)</p></dd>


<dt>x</dt>
<dd><p>An R object to check.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An object of class <code>TextReuseTextDocument</code>. This object inherits
  from the virtual S3 class <code><a href="https://rdrr.io/pkg/NLP/man/TextDocument.html" class="external-link">TextDocument</a></code> in the NLP
  package. It contains the following elements:</p><dl><dt>content</dt>
<dd><p>The
  text of the document.</p></dd>
 <dt>tokens</dt>
<dd><p>The tokens created from the text.</p></dd>

  <dt>hashes</dt>
<dd><p>Hashes created from the tokens.</p></dd>
 <dt>minhashes</dt>
<dd><p>The minhash
  signature of the document.</p></dd>
 <dt>metadata</dt>
<dd><p>The document metadata,
  including the filename (if any) in <code>file</code>.</p></dd>
 
</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This constructor function follows a three-step process. It reads in
  the text, either from a file or from memory. It then tokenizes that text.
  Then it hashes the tokens. Most of the comparison functions in this package
  rely only on the hashes to make the comparison. By passing <code>FALSE</code> to
  <code>keep_tokens</code> and <code>keep_text</code>, you can avoid saving those
  objects, which can result in significant memory savings for large corpora.</p>
<p>If <code>skip_short = TRUE</code>, this function will return <code>NULL</code> for very
  short or empty documents. A very short document is one where there are two
  few words to create at least two n-grams. For example, if five-grams are
  desired, then a document must be at least six words long. If no value of
  <code>n</code> is provided, then the function assumes a value of <code>n = 3</code>. A
  warning will be printed with the document ID of a skipped document.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="TextReuseTextDocument-accessors.html">Accessors for TextReuse
  objects</a>.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/legal/ny1850-match.txt"</span>, package <span class="op">=</span> <span class="st">"textreuse"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">doc</span>  <span class="op">&lt;-</span> <span class="fu">TextReuseTextDocument</span><span class="op">(</span>file <span class="op">=</span> <span class="va">file</span>, meta <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>id <span class="op">=</span> <span class="st">"ny1850"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">doc</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TextReuseTextDocument</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> file : /usr/local/lib/R/site-library/textreuse/extdata/legal/ny1850-match.txt </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> hash_func : hash_string </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> id : ny1850 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tokenizer : tokenize_ngrams </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> content : § 597. Every action must be prosecuted in the name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> of the real party in interest, except as otherwise provided in section 599.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ..a—</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5./imended Code, § 111.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> §598. In the case of an assignment of a t</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/pkg/NLP/man/generics.html" class="external-link">meta</a></span><span class="op">(</span><span class="va">doc</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $file</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "/usr/local/lib/R/site-library/textreuse/extdata/legal/ny1850-match.txt"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hash_func</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "hash_string"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $id</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "ny1850"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $tokenizer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "tokenize_ngrams"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="TextReuseTextDocument-accessors.html">tokens</a></span><span class="op">(</span><span class="va">doc</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="TextReuseTextDocument-accessors.html">hashes</a></span><span class="op">(</span><span class="va">doc</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  -221637926   996319810  -419169523   -37457565 -1872322441    75599962</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/pkg/NLP/man/generics.html" class="external-link">content</a></span><span class="op">(</span><span class="va">doc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg"></div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-3 col-sm-4">
                        <ul><h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul></div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer></div>

  

  

  </body></html>

