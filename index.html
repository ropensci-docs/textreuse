<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Tools for measuring similarity among documents and detecting
    passages which have been reused. Implements shingled n-gram, skip n-gram,
    and other tokenizers; similarity/dissimilarity functions; pairwise
    comparisons; minhash and locality sensitive hashing algorithms; and a
    version of the Smith-Waterman local alignment algorithm suitable for
    natural language.">
<title>Detect Text Reuse and Document Similarity • textreuse</title>
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Detect Text Reuse and Document Similarity">
<meta property="og:description" content="Tools for measuring similarity among documents and detecting
    passages which have been reused. Implements shingled n-gram, skip n-gram,
    and other tokenizers; similarity/dissimilarity functions; pairwise
    comparisons; minhash and locality sensitive hashing algorithms; and a
    version of the Smith-Waterman local alignment algorithm suitable for
    natural language.">
<meta property="og:image" content="https://docs.ropensci.org/textreuse/logo.png">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
<!-- End Matomo Code -->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="index.html">textreuse</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.5</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/textreuse-alignment.html">Text Alignment</a>
    <a class="dropdown-item" href="articles/textreuse-introduction.html">Introduction to the textreuse package</a>
    <a class="dropdown-item" href="articles/textreuse-minhash.html">Minhash and locality-sensitive hashing</a>
    <a class="dropdown-item" href="articles/textreuse-pairwise.html">Pairwise comparisons for document similarity</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/textreuse/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="textreuse">textreuse<a class="anchor" aria-label="anchor" href="#textreuse"></a>
</h1>
</div>
<p><a href="https://cran.r-project.org/package=textreuse" class="external-link"><img src="http://www.r-pkg.org/badges/version/textreuse" alt="CRAN_Status_Badge"></a> <a href="https://cran.r-project.org/package=textreuse" class="external-link"><img src="http://cranlogs.r-pkg.org/badges/grand-total/textreuse" alt="CRAN_Downloads"></a> <a href="https://travis-ci.org/ropensci/textreuse" class="external-link"><img src="https://travis-ci.org/ropensci/textreuse.svg?branch=master" alt="Build Status"></a> <a href="https://ci.appveyor.com/project/lmullen/textreuse-6xljc/branch/master" class="external-link"><img src="https://ci.appveyor.com/api/projects/status/9qwf0473xi8cyuoh/branch/master?svg=true" alt="Build status"></a> <a href="https://codecov.io/github/ropensci/textreuse?branch=master" class="external-link"><img src="https://img.shields.io/codecov/c/github/ropensci/textreuse/master.svg" alt="Coverage Status"></a> <a href="https://github.com/ropensci/onboarding/issues/20" class="external-link"><img src="https://badges.ropensci.org/20_status.svg" alt="rOpenSci badge"></a></p>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>This <a href="https://www.r-project.org/" class="external-link">R</a> package provides a set of functions for measuring similarity among documents and detecting passages which have been reused. It implements shingled n-gram, skip n-gram, and other tokenizers; similarity/dissimilarity functions; pairwise comparisons; minhash and locality sensitive hashing algorithms; and a version of the Smith-Waterman local alignment algorithm suitable for natural language. It is broadly useful for, for example, detecting duplicate documents in a corpus prior to text analysis, or for identifying borrowed passages between texts. The classes provides by this package follow the model of other natural language processing packages for R, especially the <a href="https://cran.r-project.org/package=NLP" class="external-link">NLP</a> and <a href="https://cran.r-project.org/package=tm" class="external-link">tm</a> packages. (However, this package has no dependency on Java, which should make it easier to install.)</p>
<div class="section level3">
<h3 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h3>
<p>If you use this package for scholarly research, I would appreciate a citation.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/citation.html" class="external-link">citation</a></span><span class="op">(</span><span class="st">"textreuse"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; To cite package 'textreuse' in publications use:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Lincoln Mullen (2020). textreuse: Detect Text Reuse and Document</span></span>
<span><span class="co">#&gt;   Similarity. https://docs.ropensci.org/textreuse,</span></span>
<span><span class="co">#&gt;   https://github.com/ropensci/textreuse.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; A BibTeX entry for LaTeX users is</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   @Manual{,</span></span>
<span><span class="co">#&gt;     title = {textreuse: Detect Text Reuse and Document Similarity},</span></span>
<span><span class="co">#&gt;     author = {Lincoln Mullen},</span></span>
<span><span class="co">#&gt;     year = {2020},</span></span>
<span><span class="co">#&gt;     note = {https://docs.ropensci.org/textreuse, https://github.com/ropensci/textreuse},</span></span>
<span><span class="co">#&gt;   }</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>To install this package from CRAN:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"textreuse"</span><span class="op">)</span></span></code></pre></div>
<p>To install the development version from GitHub, use <a href="https://github.com/hadley/devtools" class="external-link">devtools</a>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"ropensci/textreuse"</span>, build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<p>There are three main approaches that one may take when using this package: pairwise comparisons, minhashing/locality sensitive hashing, and extracting matching passages through text alignment.</p>
<p>See the <a href="https://cran.r-project.org/package=textreuse/vignettes/textreuse-introduction.html" class="external-link">introductory vignette</a> for a description of the classes provided by this package.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html" class="external-link">vignette</a></span><span class="op">(</span><span class="st">"textreuse-introduction"</span>, package <span class="op">=</span> <span class="st">"textreuse"</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="pairwise-comparisons">Pairwise comparisons<a class="anchor" aria-label="anchor" href="#pairwise-comparisons"></a>
</h3>
<p>In this example we will load a tiny corpus of three documents. These documents are drawn from Kellen Funk’s <a href="http://kellenfunk.org/field-code/" class="external-link">research</a> into the propagation of legal codes of civil procedure in the nineteenth-century United States.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/textreuse">textreuse</a></span><span class="op">)</span></span>
<span><span class="va">dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/legal"</span>, package <span class="op">=</span> <span class="st">"textreuse"</span><span class="op">)</span></span>
<span><span class="va">corpus</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/TextReuseCorpus.html">TextReuseCorpus</a></span><span class="op">(</span>dir <span class="op">=</span> <span class="va">dir</span>, meta <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Civil procedure"</span><span class="op">)</span>,</span>
<span>                          tokenizer <span class="op">=</span> <span class="va">tokenize_ngrams</span>, n <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span></code></pre></div>
<p>We have loaded the three documents into a corpus, which involves tokenizing the text and hashing the tokens. We can inspect the corpus as a whole or the individual documents that make it up.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">corpus</span></span>
<span><span class="co">#&gt; TextReuseCorpus</span></span>
<span><span class="co">#&gt; Number of documents: 3 </span></span>
<span><span class="co">#&gt; hash_func : hash_string </span></span>
<span><span class="co">#&gt; title : Civil procedure </span></span>
<span><span class="co">#&gt; tokenizer : tokenize_ngrams</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">corpus</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "ca1851-match"   "ca1851-nomatch" "ny1850-match"</span></span>
<span><span class="va">corpus</span><span class="op">[[</span><span class="st">"ca1851-match"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt; TextReuseTextDocument</span></span>
<span><span class="co">#&gt; file : /Users/lmullen/R/library/textreuse/extdata/legal/ca1851-match.txt </span></span>
<span><span class="co">#&gt; hash_func : hash_string </span></span>
<span><span class="co">#&gt; id : ca1851-match </span></span>
<span><span class="co">#&gt; minhash_func : </span></span>
<span><span class="co">#&gt; tokenizer : tokenize_ngrams </span></span>
<span><span class="co">#&gt; content : § 4. Every action shall be prosecuted in the name of the real party</span></span>
<span><span class="co">#&gt; in interest, except as otherwise provided in this Act.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; § 5. In the case of an assignment of a thing in action, the action by</span></span>
<span><span class="co">#&gt; the as</span></span></code></pre></div>
<p>Now we can compare each of the documents to one another. The <code><a href="reference/pairwise_compare.html">pairwise_compare()</a></code> function applies a comparison function (in this case, <code><a href="reference/similarity-functions.html">jaccard_similarity()</a></code>) to every pair of documents. The result is a matrix of scores. As we would expect, some documents are similar and others are not.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">comparisons</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/pairwise_compare.html">pairwise_compare</a></span><span class="op">(</span><span class="va">corpus</span>, <span class="va">jaccard_similarity</span><span class="op">)</span></span>
<span><span class="va">comparisons</span></span>
<span><span class="co">#&gt;                ca1851-match ca1851-nomatch ny1850-match</span></span>
<span><span class="co">#&gt; ca1851-match             NA              0    0.3842549</span></span>
<span><span class="co">#&gt; ca1851-nomatch           NA             NA    0.0000000</span></span>
<span><span class="co">#&gt; ny1850-match             NA             NA           NA</span></span></code></pre></div>
<p>We can convert that matrix to a data frame of pairs and scores if we prefer.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/pairwise_candidates.html">pairwise_candidates</a></span><span class="op">(</span><span class="va">comparisons</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 3 x 3</span></span>
<span><span class="co">#&gt;   a              b              score</span></span>
<span><span class="co">#&gt; * &lt;chr&gt;          &lt;chr&gt;          &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 ca1851-match   ca1851-nomatch 0    </span></span>
<span><span class="co">#&gt; 2 ca1851-match   ny1850-match   0.384</span></span>
<span><span class="co">#&gt; 3 ca1851-nomatch ny1850-match   0</span></span></code></pre></div>
<p>See the <a href="https://cran.r-project.org/package=textreuse/vignettes/textreuse-pairwise.html" class="external-link">pairwise vignette</a> for a fuller description.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html" class="external-link">vignette</a></span><span class="op">(</span><span class="st">"textreuse-pairwise"</span>, package <span class="op">=</span> <span class="st">"textreuse"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="minhashing-and-locality-sensitive-hashing">Minhashing and locality sensitive hashing<a class="anchor" aria-label="anchor" href="#minhashing-and-locality-sensitive-hashing"></a>
</h3>
<p>Pairwise comparisons can be very time-consuming because they grow geometrically with the size of the corpus. (A corpus with 10 documents would require at least 45 comparisons; a corpus with 100 documents would require 4,950 comparisons; a corpus with 1,000 documents would require 499,500 comparisons.) That’s why this package implements the minhash and locality sensitive hashing algorithms, which can detect candidate pairs much faster than pairwise comparisons in corpora of any significant size.</p>
<p>For this example we will load a small corpus of ten documents published by the American Tract Society. We will also create a minhash function, which represents an entire document (regardless of length) by a fixed number of integer hashes. When we create the corpus, the documents will each have a minhash signature.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/ats"</span>, package <span class="op">=</span> <span class="st">"textreuse"</span><span class="op">)</span></span>
<span><span class="va">minhash</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/minhash_generator.html">minhash_generator</a></span><span class="op">(</span><span class="fl">200</span>, seed <span class="op">=</span> <span class="fl">235</span><span class="op">)</span></span>
<span><span class="va">ats</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/TextReuseCorpus.html">TextReuseCorpus</a></span><span class="op">(</span>dir <span class="op">=</span> <span class="va">dir</span>,</span>
<span>                       tokenizer <span class="op">=</span> <span class="va">tokenize_ngrams</span>, n <span class="op">=</span> <span class="fl">5</span>,</span>
<span>                       minhash_func <span class="op">=</span> <span class="va">minhash</span><span class="op">)</span></span></code></pre></div>
<p>Now we can calculate potential matches, extract the candidates, and apply a comparison function to just those candidates.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">buckets</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/lsh.html">lsh</a></span><span class="op">(</span><span class="va">ats</span>, bands <span class="op">=</span> <span class="fl">50</span>, progress <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">candidates</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/lsh_candidates.html">lsh_candidates</a></span><span class="op">(</span><span class="va">buckets</span><span class="op">)</span></span>
<span><span class="va">scores</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/lsh_compare.html">lsh_compare</a></span><span class="op">(</span><span class="va">candidates</span>, <span class="va">ats</span>, <span class="va">jaccard_similarity</span>, progress <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">scores</span></span>
<span><span class="co">#&gt; # A tibble: 2 x 3</span></span>
<span><span class="co">#&gt;   a                     b                      score</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;                 &lt;chr&gt;                  &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 practicalthought00nev thoughtsonpopery00nevi 0.463</span></span>
<span><span class="co">#&gt; 2 remember00palm        remembermeorholy00palm 0.701</span></span></code></pre></div>
<p>For details, see the <a href="https://cran.r-project.org/package=textreuse/vignettes/textreuse-minhash.html" class="external-link">minhash vignette</a>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html" class="external-link">vignette</a></span><span class="op">(</span><span class="st">"textreuse-minhash"</span>, package <span class="op">=</span> <span class="st">"textreuse"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="text-alignment">Text alignment<a class="anchor" aria-label="anchor" href="#text-alignment"></a>
</h3>
<p>We can also extract the optimal alignment between to documents with a version of the <a href="https://en.wikipedia.org/wiki/Smith-Waterman_algorithm" class="external-link">Smith-Waterman</a> algorithm, used for protein sequence alignment, adapted for natural language. The longest matching substring according to scoring values will be extracted, and variations in the alignment will be marked.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="st">"'How do I know', she asked, 'if this is a good match?'"</span></span>
<span><span class="va">b</span> <span class="op">&lt;-</span> <span class="st">"'This is a match', he replied."</span></span>
<span><span class="fu"><a href="reference/align_local.html">align_local</a></span><span class="op">(</span><span class="va">a</span>, <span class="va">b</span><span class="op">)</span></span>
<span><span class="co">#&gt; TextReuse alignment</span></span>
<span><span class="co">#&gt; Alignment score: 7 </span></span>
<span><span class="co">#&gt; Document A:</span></span>
<span><span class="co">#&gt; this is a good match</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Document B:</span></span>
<span><span class="co">#&gt; This is a #### match</span></span></code></pre></div>
<p>For details, see the <a href="https://cran.r-project.org/package=textreuse/vignettes/textreuse-alignment.html" class="external-link">text alignment vignette</a>.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html" class="external-link">vignette</a></span><span class="op">(</span><span class="st">"textreuse-alignment"</span>, package <span class="op">=</span> <span class="st">"textreuse"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="parallel-processing">Parallel processing<a class="anchor" aria-label="anchor" href="#parallel-processing"></a>
</h3>
<p>Loading the corpus and creating tokens benefit from using multiple cores, if available. (This works only on non-Windows machines.) To use multiple cores, set <code>options("mc.cores" = 4L)</code>, where the number is how many cores you wish to use.</p>
</div>
<div class="section level3">
<h3 id="contributing-and-acknowledgments">Contributing and acknowledgments<a class="anchor" aria-label="anchor" href="#contributing-and-acknowledgments"></a>
</h3>
<p>Please note that this project is released with a <a href="https://github.com/ropensci/textreuse/blob/master/CONDUCT.md" class="external-link">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p>
<p>Thanks to <a href="http://www.noamross.net/" class="external-link">Noam Ross</a> for his thorough <a href="https://github.com/ropensci/onboarding/issues/20" class="external-link">peer review</a> of this package for <a href="https://ropensci.org/" class="external-link">rOpenSci</a>.</p>
<hr>
<p><a href="http://ropensci.org" class="external-link"><img src="http://ropensci.org/public_images/github_footer.png" alt="rOpenSCi logo"></a></p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=textreuse" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/ropensci/textreuse/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ropensci/textreuse/issues" class="external-link">Report a bug</a></li>
</ul>
</div>



<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing textreuse</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://lincolnmullen.com" class="external-link">Lincoln Mullen</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-5103-6917" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="r-universe">
<h2 data-toc-skip>R-universe</h2>
<ul class="list-unstyled">
<li><p><a href="https://ropensci.r-universe.dev/textreuse" class="external-link"><img src="https://ropensci.r-universe.dev/badges/textreuse" alt="textreuse status badge"></a></p></li>
</ul>
</div>

<div class="software-peer-review">
<h2 data-toc-skip>Software Peer-Review</h2>
<ul class="list-unstyled">
<li><p><a href="https://github.com/ropensci/software-review/issues/20" class="external-link"><img src="https://badges.ropensci.org/20_status.svg" alt="rOpenSci peer-review"></a></p></li>
</ul>
</div>

  </aside>
</div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>

  

  

  </body>
</html>
